/**
 * New node file
 */


module.exports = function(io) {
	
	io.sockets.on('connection', function(socket) {
		socket.emit('connection_status',"Connection Successful");//Send information about successful connection
	});
	
	
	// User wants to join a game
	socket.on('join_game',function(){
		var room_info = wait_rooms.add_to_room(socket);
		var room_num = room_info.room;

		socket.join(room_num);
		
		io.to(socket.id).emit('user connect', {// Send message to user
													// based on their room
			'msg' : room_num,
			'room_number': room_num,
			'player_number':room_info.user_number
		});
		});
	
	
}